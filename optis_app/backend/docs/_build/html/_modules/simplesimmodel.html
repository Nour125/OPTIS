<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>simplesimmodel &#8212; OPTIS 1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for simplesimmodel</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Simulation Model for a Simple Business Process</span>

<span class="sd">This module contains the following functions related to the simulation of a business process:</span>
<span class="sd">    </span>
<span class="sd">    * map_activity_to_number(activity), map_number_to_activity(number) - the encoding of the activities of the process</span>
<span class="sd">    * execute_case(env, case, process) - the process flow of a case in the process</span>
<span class="sd">    * run_process(env, process) - the process flow of the whole process</span>
<span class="sd">    * get_ressources(process), get_current_state - functions to get relevant state information about the process and the cases in it</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">random</span>

<span class="kn">from</span> <span class="nn">case</span> <span class="kn">import</span> <span class="n">Case</span>
<span class="kn">import</span> <span class="nn">eventlog</span> <span class="k">as</span> <span class="nn">log</span>


<div class="viewcode-block" id="map_activity_to_number"><a class="viewcode-back" href="../simplesimmodel.html#simplesimmodel.map_activity_to_number">[docs]</a><span class="k">def</span> <span class="nf">map_activity_to_number</span><span class="p">(</span><span class="n">activity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Gets an activity name and returns the corresponding number in the mapping.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    activity : str</span>
<span class="sd">        name of the activity</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    int</span>
<span class="sd">        number of the activity</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">activity_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;place order&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;arrange standard order&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;arrange custom order&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s1">&#39;pick from stock A&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> 
        <span class="s1">&#39;pick from stock B&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> 
        <span class="s1">&#39;pick from stock C&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> 
        <span class="s1">&#39;manufacture A&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> 
        <span class="s1">&#39;manufacture B&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> 
        <span class="s1">&#39;pack A&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
        <span class="s1">&#39;pack B&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;pack C&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
        <span class="s1">&#39;attempt delivery A&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
        <span class="s1">&#39;attempt delivery B&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span>
        <span class="s1">&#39;attempt delivery C&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
        <span class="s1">&#39;order completed&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">activity_mapping</span><span class="p">[</span><span class="n">activity</span><span class="p">]</span></div>
    
<div class="viewcode-block" id="map_number_to_activity"><a class="viewcode-back" href="../simplesimmodel.html#simplesimmodel.map_number_to_activity">[docs]</a><span class="k">def</span> <span class="nf">map_number_to_activity</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Gets a number and returns the corresponding activity name in the mapping.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    number : int</span>
<span class="sd">        number of the activity</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        name of the activity</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">number_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;place order&#39;</span><span class="p">,</span>
        <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;arrange standard order&#39;</span><span class="p">,</span>
        <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;arrange custom order&#39;</span><span class="p">,</span>
        <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;pick from stock A&#39;</span><span class="p">,</span> 
        <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;pick from stock B&#39;</span><span class="p">,</span> 
        <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;pick from stock C&#39;</span><span class="p">,</span> 
        <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;manufacture A&#39;</span><span class="p">,</span> 
        <span class="mi">8</span><span class="p">:</span> <span class="s1">&#39;manufacture B&#39;</span><span class="p">,</span> 
        <span class="mi">9</span><span class="p">:</span> <span class="s1">&#39;pack A&#39;</span><span class="p">,</span>
        <span class="mi">10</span><span class="p">:</span> <span class="s1">&#39;pack B&#39;</span><span class="p">,</span>
        <span class="mi">11</span><span class="p">:</span> <span class="s1">&#39;pack C&#39;</span><span class="p">,</span>
        <span class="mi">12</span><span class="p">:</span> <span class="s1">&#39;attempt delivery A&#39;</span><span class="p">,</span>
        <span class="mi">13</span><span class="p">:</span> <span class="s1">&#39;attempt delivery B&#39;</span><span class="p">,</span>
        <span class="mi">14</span><span class="p">:</span> <span class="s1">&#39;attempt delivery C&#39;</span><span class="p">,</span>
        <span class="mi">15</span><span class="p">:</span> <span class="s1">&#39;order completed&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">number_mapping</span><span class="p">[</span><span class="n">number</span><span class="p">]</span></div>

<div class="viewcode-block" id="execute_case"><a class="viewcode-back" href="../simplesimmodel.html#simplesimmodel.execute_case">[docs]</a><span class="k">def</span> <span class="nf">execute_case</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="n">process</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; A function, which represents the process model with it&#39;s control flow and ressource allocation.</span>
<span class="sd">    A customer places an order at the system and then is redirected to the order takers, where it&#39;s arranged </span>
<span class="sd">    what type of order the customer wants - standard or custom. After that depending on whether the order </span>
<span class="sd">    is standard or custom, respectively a stock or manufacturer is chosen. </span>
<span class="sd">    Afterwards one of three packing options is chosen and executed. </span>
<span class="sd">    Following the packing one of the three delivery services deliver the order. </span>
<span class="sd">    With that the order is completed.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    env : simpy.Environment</span>
<span class="sd">        environment for the simulation </span>
<span class="sd">    case : int</span>
<span class="sd">        case-id of the case which is being executed</span>
<span class="sd">    process : businessprocess.BusinessProcess</span>
<span class="sd">        the process to which the case belongs</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># create a case object to keep track of case attributes if not already existing</span>
    <span class="k">if</span> <span class="n">case</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">case_objects</span><span class="p">):</span>
        <span class="n">case_obj</span> <span class="o">=</span> <span class="n">Case</span><span class="p">(</span><span class="n">case</span><span class="p">)</span>

        <span class="c1"># add the case to the process&#39;s active cases list</span>
        <span class="n">process</span><span class="o">.</span><span class="n">case_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">case_obj</span><span class="p">)</span>
        <span class="n">process</span><span class="o">.</span><span class="n">active_cases</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">case</span><span class="p">)</span> 
    
    <span class="c1"># if the case is one of the first three choose it from the list</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">case_objects</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">case_obj</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">case_objects</span><span class="p">[</span><span class="n">case</span><span class="p">]</span>

    <span class="c1"># if case chosen by agent set agent flag to true</span>
    <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">case_id</span> <span class="o">==</span> <span class="n">case</span><span class="p">:</span> 
        <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># place order</span>
    <span class="c1"># update the state of the case</span>
    <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="c1"># request resource</span>
    <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">request</span>
        <span class="c1"># if the event_log_flag is set add the event to the log</span>
        <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
            <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
            <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;place order&quot;</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span>

        <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">place_order</span><span class="p">())</span> <span class="c1"># do the activity</span>

        <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
            <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
            <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>


    <span class="c1"># if the last action was made from the agent set the process flag to be able to return to the environment&#39;s step function</span>
    <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
        <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">request</span>

    <span class="c1"># before a new action is executed check if the agent is controlling the case and set the flag to true if yes</span>
    <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">case_id</span> <span class="o">==</span> <span class="n">case</span><span class="p">:</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span> <span class="o">=</span> <span class="kc">True</span> 

    <span class="c1"># standard order XOR custom order</span>
    <span class="c1"># if the simmodel is running independently for this case choose the next action randomly, if the agent is controlling the case choose the agent&#39;s action</span>
    <span class="n">choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span> <span class="k">else</span> <span class="n">process</span><span class="o">.</span><span class="n">next</span> 
    <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="c1"># set the standard_order flag</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">standard_order</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># exactly the same as for palce order</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">order_taker</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;arrange standard order&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">arrange_standard_order</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">request</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># analog</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">standard_order</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">order_taker</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;arrange custom order&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">arrange_custom_order</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span> 
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">request</span>


    <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">case_id</span> <span class="o">==</span> <span class="n">case</span><span class="p">:</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span> <span class="o">=</span> <span class="kc">True</span> 

    <span class="c1"># exactly the same but we choose different activities for standard and custom order based on the flag</span>
    <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">standard_order</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">):</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
    <span class="k">elif</span> <span class="p">(</span><span class="ow">not</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">standard_order</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">):</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">next</span>

    <span class="c1"># the rest of the function is pretty much the same for each new action</span>
     
    <span class="c1"># choose stock or manufacturer</span>
    <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">stock_handler_a</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;pick from stock A&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">pick_from_stock_a</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>
    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">stock_handler_b</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;pick from stock B&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">pick_from_stock_b</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>
    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">6</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">stock_handler_c</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;pick from stock C&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">pick_from_stock_c</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>
    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">7</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">manufacturer_a</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;manufacture A&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">manufacture_a</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">8</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">manufacturer_b</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;manufacture B&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">manufacture_b</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>


    <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">case_id</span> <span class="o">==</span> <span class="n">case</span><span class="p">:</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span> <span class="o">=</span> <span class="kc">True</span> 

    <span class="n">choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span> <span class="k">else</span> <span class="n">process</span><span class="o">.</span><span class="n">next</span>

    <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="mi">9</span><span class="p">:</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">9</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">packer_a</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;pack A&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">pack_a</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>
    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">packer_b</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;pack B&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">pack_b</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">11</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">packer_c</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;pack C&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">pack_c</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>

    <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">case_id</span> <span class="o">==</span> <span class="n">case</span><span class="p">:</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span> <span class="o">=</span> <span class="kc">True</span> 

    <span class="c1"># choose delivery</span>
    <span class="n">choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">14</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span> <span class="k">else</span> <span class="n">process</span><span class="o">.</span><span class="n">next</span>
    <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="mi">12</span><span class="p">:</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">12</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">delivery_service_a</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;attempt delivery A&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">attempt_delivery_a</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>
    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="mi">13</span><span class="p">:</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">13</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">delivery_service_b</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;attempt delivery B&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">attempt_delivery_b</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">14</span>
        <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">delivery_service_c</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">request</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
                <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;attempt delivery C&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">attempt_delivery_c</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
                <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
                <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
                <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">request</span>
    

    <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">case_id</span> <span class="o">==</span> <span class="n">case</span><span class="p">:</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span> <span class="o">=</span> <span class="kc">True</span> 

    <span class="c1"># case completed</span>
    <span class="n">case_obj</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">case_obj</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">15</span>
    <span class="k">with</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">request</span><span class="p">()</span> <span class="k">as</span> <span class="n">request</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">request</span>
        <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span>
            <span class="n">event_counter</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">event_counter</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span>
            <span class="n">log</span><span class="o">.</span><span class="n">add_start_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="s2">&quot;order completed&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">order_completed</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">event_log_flag</span><span class="p">:</span> 
            <span class="n">duration</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="n">start</span>
            <span class="n">log</span><span class="o">.</span><span class="n">add_end_event</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">event_counter</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>


    <span class="c1"># remove the case from the active cases since it&#39;s now done</span>
    <span class="k">if</span> <span class="n">case</span> <span class="ow">in</span> <span class="n">process</span><span class="o">.</span><span class="n">active_cases</span><span class="p">:</span>
        <span class="n">process</span><span class="o">.</span><span class="n">active_cases</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">case</span><span class="p">)</span>
    
    <span class="c1"># if the case was controlled by the agent:</span>
    <span class="k">if</span> <span class="n">case_obj</span><span class="o">.</span><span class="n">agent</span><span class="p">:</span> 
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">process</span><span class="o">.</span><span class="n">case_objects</span><span class="p">:</span>
            <span class="c1"># remove the cases which are currently doing the last activity from the active cases list to ensure the agent chooses only cases for which there are still next actions to be done</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">current</span> <span class="o">==</span> <span class="mi">15</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">case_id</span> <span class="ow">in</span> <span class="n">process</span><span class="o">.</span><span class="n">active_cases</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">case_id</span> <span class="o">!=</span> <span class="n">case</span><span class="p">):</span>
                <span class="n">process</span><span class="o">.</span><span class="n">active_cases</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">case_id</span><span class="p">)</span>
        <span class="c1"># add the case to the done cases</span>
        <span class="n">process</span><span class="o">.</span><span class="n">done_cases</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">case_id</span><span class="p">)</span>
        <span class="n">process</span><span class="o">.</span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span> </div>
    
<div class="viewcode-block" id="run_process"><a class="viewcode-back" href="../simplesimmodel.html#simplesimmodel.run_process">[docs]</a><span class="k">def</span> <span class="nf">run_process</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">process</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Runs a new process by generating new cases and executing them.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    env : simpy.Environment</span>
<span class="sd">        environment for the simulation</span>
<span class="sd">    process : businessprocess.BusinessProcess</span>
<span class="sd">        the process which is being simulated</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># the waiting orders</span>
    <span class="k">for</span> <span class="n">case</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">execute_case</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="n">process</span><span class="p">))</span>

    <span class="c1"># the new incoming orders</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># allow only 300 active cases at a time</span>
        <span class="k">while</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">active_cases</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">300</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">timeout</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">waittime</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">case</span> <span class="o">%</span> <span class="mi">20</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">waittime</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="k">yield</span> <span class="n">env</span><span class="o">.</span><span class="n">timeout</span><span class="p">(</span><span class="n">waittime</span><span class="p">)</span>  <span class="c1"># Wait a bit before generating a new case</span>

        <span class="k">case</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">env</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">execute_case</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">case</span><span class="p">,</span> <span class="n">process</span><span class="p">))</span></div>

<div class="viewcode-block" id="get_ressources"><a class="viewcode-back" href="../simplesimmodel.html#simplesimmodel.get_ressources">[docs]</a><span class="k">def</span> <span class="nf">get_ressources</span><span class="p">(</span><span class="n">process</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Get the numbers of the currently available resources.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    process : businessprocess.BusinessProcess</span>
<span class="sd">        the process to which the case belongs  </span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of int</span>
<span class="sd">        available ressouces</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">process_state</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># calculate the availbale resources for each resource in the process</span>
    <span class="n">num_system</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">count</span>
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_system</span><span class="p">)</span>

    <span class="n">num_order_taker</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">order_taker</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">order_taker</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_order_taker</span><span class="p">)</span>

    <span class="n">num_stock_handler_a</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">stock_handler_a</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">stock_handler_a</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_stock_handler_a</span><span class="p">)</span>

    <span class="n">num_stock_handler_b</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">stock_handler_b</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">stock_handler_b</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_stock_handler_b</span><span class="p">)</span>

    <span class="n">num_stock_handler_c</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">stock_handler_c</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">stock_handler_c</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_stock_handler_c</span><span class="p">)</span>

    <span class="n">num_manufacturer_a</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">manufacturer_a</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">manufacturer_a</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_manufacturer_a</span><span class="p">)</span>

    <span class="n">num_manufacturer_b</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">manufacturer_b</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">manufacturer_b</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_manufacturer_b</span><span class="p">)</span>

    <span class="n">num_packer_a</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">packer_a</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">packer_a</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_packer_a</span><span class="p">)</span>

    <span class="n">num_packer_b</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">packer_b</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">packer_b</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_packer_b</span><span class="p">)</span>

    <span class="n">num_packer_c</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">packer_c</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">packer_c</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_packer_c</span><span class="p">)</span>

    <span class="n">num_delivery_service_a</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">delivery_service_a</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">delivery_service_a</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_delivery_service_a</span><span class="p">)</span>

    <span class="n">num_delivery_service_b</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">delivery_service_b</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">delivery_service_b</span><span class="o">.</span><span class="n">count</span>
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_delivery_service_b</span><span class="p">)</span> 

    <span class="n">num_delivery_service_c</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">delivery_service_c</span><span class="o">.</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">process</span><span class="o">.</span><span class="n">delivery_service_c</span><span class="o">.</span><span class="n">count</span> 
    <span class="n">process_state</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num_delivery_service_c</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">process_state</span></div>

<div class="viewcode-block" id="get_current_state"><a class="viewcode-back" href="../simplesimmodel.html#simplesimmodel.get_current_state">[docs]</a><span class="k">def</span> <span class="nf">get_current_state</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">case</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Get the current state of the process and a specific case.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    process : businessprocess.BusinessProcess</span>
<span class="sd">        the process to which the case belongs</span>
<span class="sd">    case : int</span>
<span class="sd">        case-id of the case which is being executed</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of int</span>
<span class="sd">        available ressouces</span>
<span class="sd">    list of int</span>
<span class="sd">        events which already happened in the case</span>
<span class="sd">    int</span>
<span class="sd">        current event of the case</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">process_state</span> <span class="o">=</span> <span class="n">get_ressources</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>

    <span class="c1"># the state of the case chosen</span>
    <span class="n">cur_case</span> <span class="o">=</span> <span class="n">case</span><span class="o">.</span><span class="n">state</span>

    <span class="c1"># the current event of the case chosen</span>
    <span class="n">event</span>  <span class="o">=</span> <span class="n">case</span><span class="o">.</span><span class="n">current</span>

    <span class="k">return</span> <span class="n">process_state</span><span class="p">,</span> <span class="n">cur_case</span><span class="p">,</span> <span class="n">event</span></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">OPTIS</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Backend</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, OPTIS Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
    </div>

    

    
  </body>
</html>